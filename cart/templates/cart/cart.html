{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="blankspace2"></div>
<h2 class="cart-heading">Shopping Bag</h2>
     {% for item in cart_items %}
  <div class="card cart-card" style="width: 25rem;">
  <div class="card-body">
    <p class="card-text"><img src="{{ item.product.image_url  }}" class="image-cart" style="justify-content:space-between;" alt="item.product.description"></p>
    <p class="card-text cart3">{{ item.product.id }}</p>
    <p class="card-text cart3">£{{ item.product.price }}</p>
    <p class="card-text cart3">Quantity: {{ item.quantity }}</p>
     <form action="{% url 'adjust_cart' item.product.id %}" method="POST" class="form-group">
      {% csrf_token %}
       <input type="number" class="form-control cart-input" name="quantity" min="0" max="5" placeholder="Amend Quantity" required>
        <button class="btn form-control amend-quantity-button" type="submit">Amend Quantity</button>
      <a href="" class="btn-delete-cart"><i class="fas fa-trash"></i></a>
  </div>
</div>


 {% endfor %}
   
<section class="container">
  <div class="row cart-row">
        <div class="col-12">
            <strong class="total">Total:</strong>
            <strong class="total"><span aria-hidden="true">£</span>{{ total }}</strong>
            {% if total > 0 %}
                <a class="btn checkout-button" href="{% url 'checkout' %}" role="button">Checkout</a>
            {% else %}
                <p class="return-to-cakes">Your cart is now empty. Return to <a class="return-button" href="{% url 'products' %}">cakes</a>.</p>
            {% endif %}
        </div>
    </div>
</section>
<div class="blankspace3"></div>
<style>
    .return-to-cakes {
        color: #484848;
        font-size: 18px;
        font-family: 'Rubik', sans-serif;
        margin-top: 10px;
    }

    .total {
    color: #484848;
    font-size: 18px;
    font-family: 'Rubik', sans-serif;
    margin-top: 50px;
    }

    @media(min-width: 767px) and (max-width: 1024px) {
    .blankspace2 {
        height: 300px !important;
        background-color: #fff;
        width: 100%;
    }
    }
</style>
{% endblock %}



